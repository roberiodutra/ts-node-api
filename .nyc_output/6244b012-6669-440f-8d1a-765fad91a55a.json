{"/home/roberio/projects/djtiq-tsnode-api/src/app.ts":{"path":"/home/roberio/projects/djtiq-tsnode-api/src/app.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":18},"end":{"line":6,"column":53}},"4":{"start":{"line":7,"column":0},"end":{"line":7,"column":32}},"5":{"start":{"line":8,"column":15},"end":{"line":8,"column":47}},"6":{"start":{"line":9,"column":17},"end":{"line":9,"column":53}},"7":{"start":{"line":10,"column":21},"end":{"line":10,"column":77}},"8":{"start":{"line":11,"column":23},"end":{"line":11,"column":77}},"9":{"start":{"line":15,"column":8},"end":{"line":15,"column":44}},"10":{"start":{"line":16,"column":8},"end":{"line":16,"column":22}},"11":{"start":{"line":17,"column":8},"end":{"line":17,"column":24}},"12":{"start":{"line":18,"column":8},"end":{"line":18,"column":22}},"13":{"start":{"line":21,"column":8},"end":{"line":21,"column":47}},"14":{"start":{"line":22,"column":8},"end":{"line":22,"column":44}},"15":{"start":{"line":25,"column":8},"end":{"line":25,"column":36}},"16":{"start":{"line":28,"column":8},"end":{"line":28,"column":39}},"17":{"start":{"line":29,"column":8},"end":{"line":29,"column":45}},"18":{"start":{"line":32,"column":8},"end":{"line":32,"column":76}},"19":{"start":{"line":32,"column":36},"end":{"line":32,"column":74}},"20":{"start":{"line":35,"column":0},"end":{"line":35,"column":28}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":14,"column":4},"end":{"line":14,"column":5}},"loc":{"start":{"line":14,"column":18},"end":{"line":19,"column":5}},"line":14},"2":{"name":"(anonymous_2)","decl":{"start":{"line":20,"column":4},"end":{"line":20,"column":5}},"loc":{"start":{"line":20,"column":13},"end":{"line":23,"column":5}},"line":20},"3":{"name":"(anonymous_3)","decl":{"start":{"line":24,"column":4},"end":{"line":24,"column":5}},"loc":{"start":{"line":24,"column":15},"end":{"line":26,"column":5}},"line":24},"4":{"name":"(anonymous_4)","decl":{"start":{"line":27,"column":4},"end":{"line":27,"column":5}},"loc":{"start":{"line":27,"column":13},"end":{"line":30,"column":5}},"line":27},"5":{"name":"(anonymous_5)","decl":{"start":{"line":31,"column":4},"end":{"line":31,"column":5}},"loc":{"start":{"line":31,"column":16},"end":{"line":33,"column":5}},"line":31},"6":{"name":"(anonymous_6)","decl":{"start":{"line":32,"column":30},"end":{"line":32,"column":31}},"loc":{"start":{"line":32,"column":36},"end":{"line":32,"column":74}},"line":32}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3}},"s":{"0":1,"1":5,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":0,"19":0,"20":1},"f":{"0":5,"1":1,"2":1,"3":1,"4":1,"5":0,"6":0},"b":{"0":[1,1,1],"1":[3,2],"2":[5,5]},"inputSourceMap":{"version":3,"file":"/home/roberio/projects/djtiq-tsnode-api/src/app.ts","sources":["/home/roberio/projects/djtiq-tsnode-api/src/app.ts"],"names":[],"mappings":";;;;;AAAA,sDAA8B;AAC9B,gCAA8B;AAC9B,gDAAwB;AACxB,sDAAiC;AACjC,8EAA6D;AAC7D,8EAAsD;AAEtD,MAAM,GAAG;IACA,GAAG,CAAsB;IAEhC;QACE,IAAI,CAAC,GAAG,GAAG,IAAA,iBAAO,GAAE,CAAC;QACrB,IAAI,CAAC,MAAM,EAAE,CAAC;QACd,IAAI,CAAC,QAAQ,EAAE,CAAC;QAChB,IAAI,CAAC,MAAM,EAAE,CAAC;IAChB,CAAC;IAEO,MAAM;QACZ,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,iBAAO,CAAC,IAAI,EAAE,CAAC,CAAC;QAC7B,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,IAAA,cAAI,GAAE,CAAC,CAAC;IACvB,CAAC;IAEO,QAAQ;QACd,IAAA,oBAAiB,GAAE,CAAC;IACtB,CAAC;IAEO,MAAM;QACZ,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,gBAAS,CAAC,CAAC;QACxB,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,sBAAY,CAAC,CAAC;IAC7B,CAAC;IAEM,KAAK,CAAC,IAAqB;QAChC,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,IAAI,EAAE,GAAG,EAAE,CAAC,OAAO,CAAC,GAAG,CAAC,mBAAmB,IAAI,EAAE,CAAC,CAAC,CAAC;IACtE,CAAC;CACF;AAED,kBAAe,IAAI,GAAG,EAAE,CAAC","sourcesContent":["import express from \"express\";\nimport 'express-async-errors';\nimport cors from 'cors';\nimport Endpoints from './routes';\nimport connectToDatabase from \"./database/models/connection\";\nimport ErrorHandler from \"./middlewares/ErrorHandler\";\n\nclass App {\n  public app: express.Application;\n\n  public constructor() {\n    this.app = express();\n    this.config();\n    this.database();\n    this.routes();\n  }\n\n  private config() {\n    this.app.use(express.json());\n    this.app.use(cors());\n  }\n\n  private database() {\n    connectToDatabase();\n  }\n\n  private routes() {\n    this.app.use(Endpoints);\n    this.app.use(ErrorHandler);\n  }\n\n  public start(PORT: string | number) {\n    this.app.listen(PORT, () => console.log(`Running on port ${PORT}`));\n  }\n}\n\nexport default new App();\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"5faef03a96b510d018783e8fe44d7c87079a4f60","contentHash":"ddbefd7ec92ef44f3444712e7cf6c1e03b29d7f26c2f3c42b826d3903e1a06b6"},"/home/roberio/projects/djtiq-tsnode-api/src/routes/index.ts":{"path":"/home/roberio/projects/djtiq-tsnode-api/src/routes/index.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":18},"end":{"line":6,"column":36}},"4":{"start":{"line":7,"column":21},"end":{"line":7,"column":61}},"5":{"start":{"line":8,"column":26},"end":{"line":8,"column":71}},"6":{"start":{"line":9,"column":18},"end":{"line":9,"column":41}},"7":{"start":{"line":10,"column":0},"end":{"line":10,"column":41}},"8":{"start":{"line":11,"column":0},"end":{"line":11,"column":55}},"9":{"start":{"line":12,"column":0},"end":{"line":12,"column":28}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3}},"s":{"0":1,"1":2,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1},"f":{"0":2},"b":{"0":[1,1,1],"1":[2,0],"2":[2,2]},"inputSourceMap":{"version":3,"file":"/home/roberio/projects/djtiq-tsnode-api/src/routes/index.ts","sources":["/home/roberio/projects/djtiq-tsnode-api/src/routes/index.ts"],"names":[],"mappings":";;;;;AAAA,qCAAiC;AACjC,8DAAsC;AACtC,wEAAgD;AAEhD,MAAM,SAAS,GAAG,IAAA,gBAAM,GAAE,CAAC;AAE3B,SAAS,CAAC,GAAG,CAAC,GAAG,EAAE,oBAAU,CAAC,CAAC;AAC/B,SAAS,CAAC,GAAG,CAAC,YAAY,EAAE,yBAAe,CAAC,CAAC;AAE7C,kBAAe,SAAS,CAAC","sourcesContent":["import { Router } from 'express';\nimport userRouter from './userRouter';\nimport questionsRouter from './questionsRouter';\n\nconst Endpoints = Router();\n\nEndpoints.use('/', userRouter);\nEndpoints.use('/questions', questionsRouter);\n\nexport default Endpoints;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"1be483c24dc9eae96d88fdaa824cce56cdab628a","contentHash":"61b206c7bb89644645989ff67085973f168ec613482cb3ca6839c08ccced8bb4"},"/home/roberio/projects/djtiq-tsnode-api/src/routes/userRouter.ts":{"path":"/home/roberio/projects/djtiq-tsnode-api/src/routes/userRouter.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":18},"end":{"line":6,"column":36}},"4":{"start":{"line":7,"column":25},"end":{"line":7,"column":101}},"5":{"start":{"line":8,"column":14},"end":{"line":8,"column":37}},"6":{"start":{"line":9,"column":0},"end":{"line":9,"column":55}},"7":{"start":{"line":10,"column":0},"end":{"line":10,"column":56}},"8":{"start":{"line":11,"column":0},"end":{"line":11,"column":57}},"9":{"start":{"line":12,"column":0},"end":{"line":12,"column":56}},"10":{"start":{"line":13,"column":0},"end":{"line":13,"column":59}},"11":{"start":{"line":14,"column":0},"end":{"line":14,"column":24}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1},"f":{"0":1},"b":{"0":[1,1,1],"1":[1,0],"2":[1,1]},"inputSourceMap":{"version":3,"file":"/home/roberio/projects/djtiq-tsnode-api/src/routes/userRouter.ts","sources":["/home/roberio/projects/djtiq-tsnode-api/src/routes/userRouter.ts"],"names":[],"mappings":";;;;;AAAA,qCAAiC;AACjC,sGAA8E;AAE9E,MAAM,KAAK,GAAG,IAAA,gBAAM,GAAE,CAAC;AAEvB,KAAK,CAAC,IAAI,CAAC,UAAU,EAAE,wBAAc,CAAC,KAAK,CAAC,CAAC;AAC7C,KAAK,CAAC,IAAI,CAAC,UAAU,EAAE,wBAAc,CAAC,MAAM,CAAC,CAAC;AAC9C,KAAK,CAAC,GAAG,CAAC,WAAW,EAAE,wBAAc,CAAC,OAAO,CAAC,CAAC;AAC/C,KAAK,CAAC,GAAG,CAAC,WAAW,EAAE,wBAAc,CAAC,MAAM,CAAC,CAAC;AAC9C,KAAK,CAAC,MAAM,CAAC,WAAW,EAAE,wBAAc,CAAC,MAAM,CAAC,CAAC;AAEjD,kBAAe,KAAK,CAAC","sourcesContent":["import { Router } from 'express';\nimport UserController from '../domain/cases/login/controllers/userController';\n\nconst route = Router();\n\nroute.post('/sign_in', UserController.login);\nroute.post('/sign_up', UserController.create);\nroute.get('/user/:id', UserController.readOne);\nroute.put('/user/:id', UserController.update);\nroute.delete('/user/:id', UserController.delete);\n\nexport default route;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"569a7bec29bd5908eb40a1f46cad9bac4fe1f7e9","contentHash":"97bc5a62bc760cf6858ac0daa0f5718cbaafec61f96300311201aa3b0ef0013c"},"/home/roberio/projects/djtiq-tsnode-api/src/domain/cases/login/controllers/userController.ts":{"path":"/home/roberio/projects/djtiq-tsnode-api/src/domain/cases/login/controllers/userController.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":22},"end":{"line":6,"column":73}},"4":{"start":{"line":10,"column":8},"end":{"line":10,"column":31}},"5":{"start":{"line":12,"column":13},"end":{"line":15,"column":5}},"6":{"start":{"line":13,"column":23},"end":{"line":13,"column":58}},"7":{"start":{"line":14,"column":8},"end":{"line":14,"column":44}},"8":{"start":{"line":16,"column":12},"end":{"line":20,"column":5}},"9":{"start":{"line":17,"column":36},"end":{"line":17,"column":44}},"10":{"start":{"line":18,"column":21},"end":{"line":18,"column":62}},"11":{"start":{"line":19,"column":8},"end":{"line":19,"column":42}},"12":{"start":{"line":21,"column":14},"end":{"line":25,"column":5}},"13":{"start":{"line":22,"column":23},"end":{"line":22,"column":33}},"14":{"start":{"line":23,"column":23},"end":{"line":23,"column":53}},"15":{"start":{"line":24,"column":8},"end":{"line":24,"column":44}},"16":{"start":{"line":26,"column":13},"end":{"line":30,"column":5}},"17":{"start":{"line":27,"column":23},"end":{"line":27,"column":33}},"18":{"start":{"line":28,"column":23},"end":{"line":28,"column":62}},"19":{"start":{"line":29,"column":8},"end":{"line":29,"column":44}},"20":{"start":{"line":31,"column":13},"end":{"line":36,"column":5}},"21":{"start":{"line":32,"column":23},"end":{"line":32,"column":33}},"22":{"start":{"line":33,"column":8},"end":{"line":33,"column":39}},"23":{"start":{"line":34,"column":8},"end":{"line":34,"column":38}},"24":{"start":{"line":35,"column":8},"end":{"line":35,"column":37}},"25":{"start":{"line":38,"column":0},"end":{"line":38,"column":39}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":9,"column":4},"end":{"line":9,"column":5}},"loc":{"start":{"line":9,"column":49},"end":{"line":11,"column":5}},"line":9},"2":{"name":"(anonymous_2)","decl":{"start":{"line":12,"column":13},"end":{"line":12,"column":14}},"loc":{"start":{"line":12,"column":33},"end":{"line":15,"column":5}},"line":12},"3":{"name":"(anonymous_3)","decl":{"start":{"line":16,"column":12},"end":{"line":16,"column":13}},"loc":{"start":{"line":16,"column":32},"end":{"line":20,"column":5}},"line":16},"4":{"name":"(anonymous_4)","decl":{"start":{"line":21,"column":14},"end":{"line":21,"column":15}},"loc":{"start":{"line":21,"column":34},"end":{"line":25,"column":5}},"line":21},"5":{"name":"(anonymous_5)","decl":{"start":{"line":26,"column":13},"end":{"line":26,"column":14}},"loc":{"start":{"line":26,"column":33},"end":{"line":30,"column":5}},"line":26},"6":{"name":"(anonymous_6)","decl":{"start":{"line":31,"column":13},"end":{"line":31,"column":14}},"loc":{"start":{"line":31,"column":33},"end":{"line":36,"column":5}},"line":31}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":9,"column":16},"end":{"line":9,"column":47}},"type":"default-arg","locations":[{"start":{"line":9,"column":26},"end":{"line":9,"column":47}}],"line":9}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":0,"7":0,"8":1,"9":2,"10":2,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1,"23":1,"24":1,"25":1},"f":{"0":1,"1":1,"2":0,"3":2,"4":1,"5":1,"6":1},"b":{"0":[1,1,1],"1":[1,0],"2":[1,1],"3":[1]},"inputSourceMap":{"version":3,"file":"/home/roberio/projects/djtiq-tsnode-api/src/domain/cases/login/controllers/userController.ts","sources":["/home/roberio/projects/djtiq-tsnode-api/src/domain/cases/login/controllers/userController.ts"],"names":[],"mappings":";;;;;AACA,0EAAkD;AAElD,MAAM,cAAc;IACE;IAApB,YAAoB,UAAU,qBAAW;QAArB,YAAO,GAAP,OAAO,CAAc;IAAI,CAAC;IAEvC,MAAM,GAAG,KAAK,EAAE,GAAY,EAAE,GAAa,EAAE,EAAE;QACpD,MAAM,MAAM,GAAG,MAAM,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;QACnD,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;IACtC,CAAC,CAAC;IAEK,KAAK,GAAG,KAAK,EAAE,GAAY,EAAE,GAAa,EAAE,EAAE;QACnD,MAAM,EAAE,KAAK,EAAE,QAAQ,EAAE,GAAG,GAAG,CAAC,IAAI,CAAC;QACrC,MAAM,IAAI,GAAG,MAAM,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,KAAK,EAAE,QAAQ,CAAC,CAAC;QACvD,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IACpC,CAAC,CAAC;IAEK,OAAO,GAAG,KAAK,EAAE,GAAY,EAAE,GAAa,EAAE,EAAE;QACrD,MAAM,EAAE,EAAE,EAAE,GAAG,GAAG,CAAC,MAAM,CAAC;QAC1B,MAAM,MAAM,GAAG,MAAM,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC;QAC9C,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;IACtC,CAAC,CAAC;IAEK,MAAM,GAAG,KAAK,EAAE,GAAY,EAAE,GAAa,EAAE,EAAE;QACpD,MAAM,EAAE,EAAE,EAAE,GAAG,GAAG,CAAC,MAAM,CAAC;QAC1B,MAAM,MAAM,GAAG,MAAM,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,EAAE,EAAE,GAAG,CAAC,IAAI,CAAC,CAAC;QACvD,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;IACtC,CAAC,CAAC;IAEK,MAAM,GAAG,KAAK,EAAE,GAAY,EAAE,GAAa,EAAE,EAAE;QACpD,MAAM,EAAE,EAAE,EAAE,GAAG,GAAG,CAAC,MAAM,CAAC;QAC1B,MAAM,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC;QAC/B,MAAM,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC;QAC9B,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,GAAG,EAAE,CAAC;IAC/B,CAAC,CAAC;CACH;AAED,kBAAe,IAAI,cAAc,EAAE,CAAC","sourcesContent":["import { Request, Response } from 'express';\nimport UserService from '../services/userService';\n\nclass UserController {\n  constructor(private service = UserService) { }\n\n  public create = async (req: Request, res: Response) => {\n    const result = await this.service.create(req.body);\n    return res.status(201).json(result);\n  };\n\n  public login = async (req: Request, res: Response) => {\n    const { email, password } = req.body;\n    const user = await this.service.login(email, password);\n    return res.status(200).json(user);\n  };\n\n  public readOne = async (req: Request, res: Response) => {\n    const { id } = req.params;\n    const result = await this.service.readOne(id);\n    return res.status(200).json(result);\n  };\n\n  public update = async (req: Request, res: Response) => {\n    const { id } = req.params;\n    const result = await this.service.update(id, req.body);\n    return res.status(200).json(result);\n  };\n\n  public delete = async (req: Request, res: Response) => {\n    const { id } = req.params;\n    await this.service.readOne(id);\n    await this.service.delete(id);\n    return res.status(204).end();\n  };\n}\n\nexport default new UserController();\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"f39c13be583ebedf18b2df64f6223cb2b0125cce","contentHash":"82139510dfd49f1584183e157f78baa1ba0c8d3667331d69c720514b3cab209d"},"/home/roberio/projects/djtiq-tsnode-api/src/domain/cases/login/services/userService.ts":{"path":"/home/roberio/projects/djtiq-tsnode-api/src/domain/cases/login/services/userService.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":16},"end":{"line":6,"column":46}},"4":{"start":{"line":7,"column":15},"end":{"line":7,"column":75}},"5":{"start":{"line":8,"column":17},"end":{"line":8,"column":71}},"6":{"start":{"line":9,"column":25},"end":{"line":9,"column":87}},"7":{"start":{"line":10,"column":23},"end":{"line":10,"column":66}},"8":{"start":{"line":14,"column":8},"end":{"line":14,"column":27}},"9":{"start":{"line":17,"column":23},"end":{"line":17,"column":56}},"10":{"start":{"line":18,"column":36},"end":{"line":18,"column":39}},"11":{"start":{"line":19,"column":8},"end":{"line":20,"column":31}},"12":{"start":{"line":20,"column":12},"end":{"line":20,"column":31}},"13":{"start":{"line":21,"column":27},"end":{"line":21,"column":62}},"14":{"start":{"line":22,"column":8},"end":{"line":23,"column":66}},"15":{"start":{"line":23,"column":12},"end":{"line":23,"column":66}},"16":{"start":{"line":24,"column":28},"end":{"line":24,"column":69}},"17":{"start":{"line":25,"column":21},"end":{"line":25,"column":79}},"18":{"start":{"line":26,"column":25},"end":{"line":31,"column":9}},"19":{"start":{"line":32,"column":26},"end":{"line":32,"column":65}},"20":{"start":{"line":33,"column":8},"end":{"line":33,"column":40}},"21":{"start":{"line":36,"column":21},"end":{"line":36,"column":56}},"22":{"start":{"line":37,"column":8},"end":{"line":38,"column":68}},"23":{"start":{"line":38,"column":12},"end":{"line":38,"column":68}},"24":{"start":{"line":39,"column":26},"end":{"line":39,"column":81}},"25":{"start":{"line":40,"column":8},"end":{"line":41,"column":69}},"26":{"start":{"line":41,"column":12},"end":{"line":41,"column":69}},"27":{"start":{"line":42,"column":25},"end":{"line":47,"column":9}},"28":{"start":{"line":48,"column":26},"end":{"line":48,"column":65}},"29":{"start":{"line":49,"column":8},"end":{"line":49,"column":40}},"30":{"start":{"line":52,"column":8},"end":{"line":52,"column":38}},"31":{"start":{"line":55,"column":8},"end":{"line":55,"column":46}},"32":{"start":{"line":58,"column":8},"end":{"line":58,"column":37}},"33":{"start":{"line":61,"column":0},"end":{"line":61,"column":36}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":13,"column":4},"end":{"line":13,"column":5}},"loc":{"start":{"line":13,"column":40},"end":{"line":15,"column":5}},"line":13},"2":{"name":"(anonymous_2)","decl":{"start":{"line":16,"column":4},"end":{"line":16,"column":5}},"loc":{"start":{"line":16,"column":22},"end":{"line":34,"column":5}},"line":16},"3":{"name":"(anonymous_3)","decl":{"start":{"line":35,"column":4},"end":{"line":35,"column":5}},"loc":{"start":{"line":35,"column":29},"end":{"line":50,"column":5}},"line":35},"4":{"name":"(anonymous_4)","decl":{"start":{"line":51,"column":4},"end":{"line":51,"column":5}},"loc":{"start":{"line":51,"column":16},"end":{"line":53,"column":5}},"line":51},"5":{"name":"(anonymous_5)","decl":{"start":{"line":54,"column":4},"end":{"line":54,"column":5}},"loc":{"start":{"line":54,"column":24},"end":{"line":56,"column":5}},"line":54},"6":{"name":"(anonymous_6)","decl":{"start":{"line":57,"column":4},"end":{"line":57,"column":5}},"loc":{"start":{"line":57,"column":15},"end":{"line":59,"column":5}},"line":57}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":13,"column":16},"end":{"line":13,"column":38}},"type":"default-arg","locations":[{"start":{"line":13,"column":24},"end":{"line":13,"column":38}}],"line":13},"4":{"loc":{"start":{"line":19,"column":8},"end":{"line":20,"column":31}},"type":"if","locations":[{"start":{"line":19,"column":8},"end":{"line":20,"column":31}},{"start":{"line":19,"column":8},"end":{"line":20,"column":31}}],"line":19},"5":{"loc":{"start":{"line":22,"column":8},"end":{"line":23,"column":66}},"type":"if","locations":[{"start":{"line":22,"column":8},"end":{"line":23,"column":66}},{"start":{"line":22,"column":8},"end":{"line":23,"column":66}}],"line":22},"6":{"loc":{"start":{"line":37,"column":8},"end":{"line":38,"column":68}},"type":"if","locations":[{"start":{"line":37,"column":8},"end":{"line":38,"column":68}},{"start":{"line":37,"column":8},"end":{"line":38,"column":68}}],"line":37},"7":{"loc":{"start":{"line":40,"column":8},"end":{"line":41,"column":69}},"type":"if","locations":[{"start":{"line":40,"column":8},"end":{"line":41,"column":69}},{"start":{"line":40,"column":8},"end":{"line":41,"column":69}}],"line":40}},"s":{"0":1,"1":3,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":2,"22":2,"23":1,"24":1,"25":1,"26":0,"27":1,"28":1,"29":1,"30":2,"31":1,"32":1,"33":1},"f":{"0":3,"1":1,"2":0,"3":2,"4":2,"5":1,"6":1},"b":{"0":[1,1,1],"1":[3,0],"2":[3,3],"3":[1],"4":[0,0],"5":[0,0],"6":[1,1],"7":[0,1]},"inputSourceMap":{"version":3,"file":"/home/roberio/projects/djtiq-tsnode-api/src/domain/cases/login/services/userService.ts","sources":["/home/roberio/projects/djtiq-tsnode-api/src/domain/cases/login/services/userService.ts"],"names":[],"mappings":";;;;;AAAA,+CAAwD;AACxD,4EAAyD;AACzD,wEAAgD;AAChD,wFAAgE;AAChE,mEAA8D;AAE9D,MAAM,WAAW;IACK;IAApB,YAAoB,QAAQ,cAAS;QAAjB,UAAK,GAAL,KAAK,CAAY;IAAI,CAAC;IAEnC,KAAK,CAAC,MAAM,CAAC,GAAU;QAC5B,MAAM,MAAM,GAAG,kBAAU,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC;QACzC,MAAM,EAAE,KAAK,EAAE,QAAQ,EAAE,GAAG,GAAG,CAAC;QAEhC,IAAI,CAAC,MAAM,CAAC,OAAO;YAAE,MAAM,MAAM,CAAC,KAAK,CAAC;QAExC,MAAM,UAAU,GAAG,MAAM,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;QACvD,IAAI,UAAU;YAAE,MAAM,IAAI,KAAK,CAAC,yBAAU,CAAC,UAAU,CAAC,CAAC;QAEvD,MAAM,WAAW,GAAG,MAAM,gBAAM,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC;QACpD,MAAM,IAAI,GAAG,MAAM,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,EAAE,GAAG,GAAG,EAAE,QAAQ,EAAE,WAAW,EAAE,CAAC,CAAC;QAExE,MAAM,QAAQ,GAAG;YACf,EAAE,EAAE,IAAI,CAAC,GAAG;YACZ,KAAK;YACL,IAAI,EAAE,IAAI,CAAC,IAAI;YACf,QAAQ,EAAE,GAAG,IAAI,CAAC,SAAS,IAAI,IAAI,CAAC,QAAQ,EAAE;SAC/C,CAAC;QACF,MAAM,EAAE,KAAK,EAAE,GAAG,IAAA,wBAAc,EAAC,QAAQ,CAAC,CAAC;QAE3C,OAAO,CAAC,EAAE,GAAG,QAAQ,EAAE,KAAK,EAAE,CAAC,CAAC;IAClC,CAAC;IAEM,KAAK,CAAC,KAAK,CAAC,KAAa,EAAE,IAAY;QAC5C,MAAM,IAAI,GAAG,MAAM,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;QACjD,IAAI,CAAC,IAAI;YAAE,MAAM,IAAI,KAAK,CAAC,yBAAU,CAAC,YAAY,CAAC,CAAC;QAEpD,MAAM,SAAS,GAAG,MAAM,gBAAM,CAAC,WAAW,CAAC,IAAI,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC;QAChE,IAAI,CAAC,SAAS;YAAE,MAAM,IAAI,KAAK,CAAC,yBAAU,CAAC,aAAa,CAAC,CAAC;QAE1D,MAAM,QAAQ,GAAG;YACf,EAAE,EAAE,IAAI,CAAC,GAAG;YACZ,KAAK;YACL,IAAI,EAAE,IAAI,CAAC,IAAI;YACf,QAAQ,EAAE,GAAG,IAAI,CAAC,SAAS,IAAI,IAAI,CAAC,QAAQ,EAAE;SAC/C,CAAC;QACF,MAAM,EAAE,KAAK,EAAE,GAAG,IAAA,wBAAc,EAAC,QAAQ,CAAC,CAAC;QAE3C,OAAO,CAAC,EAAE,GAAG,QAAQ,EAAE,KAAK,EAAE,CAAC,CAAC;IAClC,CAAC;IAEM,OAAO,CAAC,EAAU;QACvB,OAAO,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC;IAChC,CAAC;IAEM,MAAM,CAAC,EAAU,EAAE,OAAc;QACtC,OAAO,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,EAAE,EAAE,OAAO,CAAC,CAAC;IACxC,CAAC;IAEM,MAAM,CAAC,EAAU;QACtB,OAAO,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC;IAC/B,CAAC;CACF;AAED,kBAAe,IAAI,WAAW,EAAE,CAAC","sourcesContent":["import { IUser, UserSchema } from '../interfaces/IUser';\nimport UserModel from '../../../../database/models/User';\nimport Bcrypt from '../../../../helpers/Bcrypt';\nimport tokenGenerator from '../../../../helpers/TokenGenerator';\nimport { ErrorTypes } from '../../../../helpers/ErrorCatalog';\n\nclass UserService {\n  constructor(private model = UserModel) { }\n\n  public async create(obj: IUser) {\n    const parsed = UserSchema.safeParse(obj);\n    const { email, password } = obj;\n\n    if (!parsed.success) throw parsed.error;\n\n    const userExists = await this.model.readByEmail(email);\n    if (userExists) throw new Error(ErrorTypes.UserExists);\n\n    const encryptPass = await Bcrypt.hashPass(password);\n    const user = await this.model.create({ ...obj, password: encryptPass });\n\n    const userInfo = {\n      id: user._id,\n      email,\n      role: user.role,\n      fullName: `${user.firstName} ${user.lastName}`,\n    };\n    const { token } = tokenGenerator(userInfo);\n\n    return ({ ...userInfo, token });\n  }\n\n  public async login(email: string, pass: string) {\n    const user = await this.model.readByEmail(email);\n    if (!user) throw new Error(ErrorTypes.UserNotFound);\n\n    const checkPass = await Bcrypt.comparePass(pass, user.password);\n    if (!checkPass) throw new Error(ErrorTypes.WrongPassword);\n\n    const userInfo = {\n      id: user._id,\n      email,\n      role: user.role,\n      fullName: `${user.firstName} ${user.lastName}`,\n    };\n    const { token } = tokenGenerator(userInfo);\n\n    return ({ ...userInfo, token });\n  }\n\n  public readOne(id: string) {\n    return this.model.readOne(id);\n  }\n\n  public update(id: string, payload: IUser) {\n    return this.model.update(id, payload);\n  }\n\n  public delete(id: string) {\n    return this.model.delete(id);\n  }\n}\n\nexport default new UserService();\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"2624eca7e5c74563283bafeb78a4829fec99b956","contentHash":"86fc696782ccafd2d172a2db976bb0ee0a1faa7290af8264576d0ab47eeb5a08"},"/home/roberio/projects/djtiq-tsnode-api/src/domain/cases/login/interfaces/IUser.ts":{"path":"/home/roberio/projects/djtiq-tsnode-api/src/domain/cases/login/interfaces/IUser.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":28}},"2":{"start":{"line":4,"column":14},"end":{"line":4,"column":28}},"3":{"start":{"line":5,"column":0},"end":{"line":17,"column":12}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1},"f":{},"b":{},"inputSourceMap":{"version":3,"file":"/home/roberio/projects/djtiq-tsnode-api/src/domain/cases/login/interfaces/IUser.ts","sources":["/home/roberio/projects/djtiq-tsnode-api/src/domain/cases/login/interfaces/IUser.ts"],"names":[],"mappings":";;;AAAA,6BAAwB;AAEX,QAAA,UAAU,GAAG,OAAC,CAAC,MAAM,CAAC;IACjC,KAAK,EAAE,OAAC,CAAC,MAAM,EAAE,CAAC,KAAK,EAAE;IACzB,QAAQ,EAAE,OAAC,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,CAAC,EAAE;QAC1B,OAAO,EAAE,6CAA6C;KACvD,CAAC;IACF,SAAS,EAAE,OAAC,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,CAAC,EAAE;QAC3B,OAAO,EAAE,8CAA8C;KACxD,CAAC;IACF,QAAQ,EAAE,OAAC,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,CAAC,EAAE;QAC1B,OAAO,EAAE,6CAA6C;KACvD,CAAC;IACF,IAAI,EAAE,OAAC,CAAC,MAAM,EAAE;CACjB,CAAC,CAAC,MAAM,EAAE,CAAC","sourcesContent":["import { z } from 'zod';\n\nexport const UserSchema = z.object({\n  email: z.string().email(),\n  password: z.string().min(6, {\n    message: 'Password must be at least 6 characters long',\n  }),\n  firstName: z.string().min(3, {\n    message: 'FirstName must be at least 3 characters long',\n  }),\n  lastName: z.string().min(3, {\n    message: 'LastName must be at least 3 characters long',\n  }),\n  role: z.string(),\n}).strict();\n\nexport type IUser = z.infer<typeof UserSchema>;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"37d69eab1c0a787b16cb3934c2b5e8228e6f9c01","contentHash":"904d53dd0f9ff2118a5fcfdc02e3231c1631158015548472dfe6d1c76b2c4c95"},"/home/roberio/projects/djtiq-tsnode-api/src/database/models/User.ts":{"path":"/home/roberio/projects/djtiq-tsnode-api/src/database/models/User.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":19},"end":{"line":6,"column":38}},"4":{"start":{"line":7,"column":21},"end":{"line":7,"column":61}},"5":{"start":{"line":8,"column":19},"end":{"line":17,"column":2}},"6":{"start":{"line":20,"column":8},"end":{"line":20,"column":21}},"7":{"start":{"line":23,"column":8},"end":{"line":23,"column":45}},"8":{"start":{"line":26,"column":0},"end":{"line":26,"column":29}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":19,"column":4},"end":{"line":19,"column":5}},"loc":{"start":{"line":19,"column":67},"end":{"line":21,"column":5}},"line":19},"2":{"name":"(anonymous_2)","decl":{"start":{"line":22,"column":4},"end":{"line":22,"column":5}},"loc":{"start":{"line":22,"column":23},"end":{"line":24,"column":5}},"line":22}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":19,"column":16},"end":{"line":19,"column":65}},"type":"default-arg","locations":[{"start":{"line":19,"column":24},"end":{"line":19,"column":65}}],"line":19}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":0,"8":1},"f":{"0":1,"1":1,"2":0},"b":{"0":[1,1,1],"1":[1,0],"2":[1,1],"3":[1]},"inputSourceMap":{"version":3,"file":"/home/roberio/projects/djtiq-tsnode-api/src/database/models/User.ts","sources":["/home/roberio/projects/djtiq-tsnode-api/src/database/models/User.ts"],"names":[],"mappings":";;;;;AAAA,uCAAgE;AAEhE,8DAAsC;AAEtC,MAAM,UAAU,GAAG,IAAI,iBAAM,CAAQ;IACnC,KAAK,EAAE,MAAM;IACb,QAAQ,EAAE,MAAM;IAChB,SAAS,EAAE,MAAM;IACjB,QAAQ,EAAE,MAAM;IAChB,IAAI,EAAE,MAAM;CACb,EAAE;IACD,UAAU,EAAE,IAAI;IAChB,UAAU,EAAE,KAAK;CAClB,CAAC,CAAC;AAEH,MAAM,IAAK,SAAQ,oBAAiB;IAClC,YAAY,KAAK,GAAG,IAAA,gBAAmB,EAAC,MAAM,EAAE,UAAU,CAAC;QACzD,KAAK,CAAC,KAAK,CAAC,CAAC;IACf,CAAC;IAEM,WAAW,CAAC,KAAa;QAC9B,OAAO,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,EAAE,KAAK,EAAE,CAAC,CAAC;IACvC,CAAC;CACF;AAED,kBAAe,IAAI,IAAI,EAAE,CAAC","sourcesContent":["import { model as mongooseCreateModel, Schema } from 'mongoose';\nimport { IUser } from '../../domain/cases/login/interfaces/IUser';\nimport MongoModel from './MongoModel';\n\nconst UserSchema = new Schema<IUser>({\n  email: String,\n  password: String,\n  firstName: String,\n  lastName: String,\n  role: String,\n}, {\n  timestamps: true,\n  versionKey: false,\n});\n\nclass User extends MongoModel<IUser> {\n  constructor(model = mongooseCreateModel('User', UserSchema)) {\n    super(model);\n  }\n\n  public readByEmail(email: string) {\n    return this.model.findOne({ email });\n  }\n}\n\nexport default new User();\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"6e6b76f593caa893054e7f7cc168a7e4ba687298","contentHash":"30f56f118cadf54ad4773d5988e0c8726c9d991f9f37938057ee48cf1af29a6b"},"/home/roberio/projects/djtiq-tsnode-api/src/database/models/MongoModel.ts":{"path":"/home/roberio/projects/djtiq-tsnode-api/src/database/models/MongoModel.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":6,"column":8},"end":{"line":6,"column":27}},"2":{"start":{"line":9,"column":8},"end":{"line":9,"column":45}},"3":{"start":{"line":12,"column":8},"end":{"line":12,"column":33}},"4":{"start":{"line":15,"column":8},"end":{"line":15,"column":43}},"5":{"start":{"line":18,"column":8},"end":{"line":18,"column":58}},"6":{"start":{"line":21,"column":8},"end":{"line":21,"column":53}},"7":{"start":{"line":24,"column":0},"end":{"line":24,"column":29}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":5,"column":4},"end":{"line":5,"column":5}},"loc":{"start":{"line":5,"column":23},"end":{"line":7,"column":5}},"line":5},"1":{"name":"(anonymous_1)","decl":{"start":{"line":8,"column":4},"end":{"line":8,"column":5}},"loc":{"start":{"line":8,"column":22},"end":{"line":10,"column":5}},"line":8},"2":{"name":"(anonymous_2)","decl":{"start":{"line":11,"column":4},"end":{"line":11,"column":5}},"loc":{"start":{"line":11,"column":17},"end":{"line":13,"column":5}},"line":11},"3":{"name":"(anonymous_3)","decl":{"start":{"line":14,"column":4},"end":{"line":14,"column":5}},"loc":{"start":{"line":14,"column":23},"end":{"line":16,"column":5}},"line":14},"4":{"name":"(anonymous_4)","decl":{"start":{"line":17,"column":4},"end":{"line":17,"column":5}},"loc":{"start":{"line":17,"column":27},"end":{"line":19,"column":5}},"line":17},"5":{"name":"(anonymous_5)","decl":{"start":{"line":20,"column":4},"end":{"line":20,"column":5}},"loc":{"start":{"line":20,"column":22},"end":{"line":22,"column":5}},"line":20}},"branchMap":{},"s":{"0":1,"1":2,"2":0,"3":0,"4":0,"5":0,"6":0,"7":1},"f":{"0":2,"1":0,"2":0,"3":0,"4":0,"5":0},"b":{},"inputSourceMap":{"version":3,"file":"/home/roberio/projects/djtiq-tsnode-api/src/database/models/MongoModel.ts","sources":["/home/roberio/projects/djtiq-tsnode-api/src/database/models/MongoModel.ts"],"names":[],"mappings":";;AAGA,MAAe,UAAU;IACD;IAAtB,YAAsB,KAAmB;QAAnB,UAAK,GAAL,KAAK,CAAc;IAAI,CAAC;IAEvC,KAAK,CAAC,MAAM,CAAC,GAAM;QACxB,OAAO,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,EAAE,GAAG,GAAG,EAAE,CAAC,CAAC;IACvC,CAAC;IAEM,KAAK,CAAC,IAAI;QACf,OAAO,IAAI,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC;IAC3B,CAAC;IAEM,KAAK,CAAC,OAAO,CAAC,GAAW;QAC9B,OAAO,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,EAAE,GAAG,EAAE,CAAC,CAAC;IACrC,CAAC;IAEM,KAAK,CAAC,MAAM,CAAC,GAAW,EAAE,GAAe;QAC9C,OAAO,IAAI,CAAC,KAAK,CAAC,iBAAiB,CAAC,EAAE,GAAG,EAAE,EAAE,GAAG,CAAC,CAAC;IACpD,CAAC;IAEM,KAAK,CAAC,MAAM,CAAC,GAAW;QAC7B,OAAO,IAAI,CAAC,KAAK,CAAC,iBAAiB,CAAC,EAAE,GAAG,EAAE,CAAC,CAAC;IAC/C,CAAC;CACF;AAED,kBAAe,UAAU,CAAC","sourcesContent":["import { Model } from 'mongoose';\nimport { IModel } from '../interfaces/IModel';\n\nabstract class MongoModel<T> implements IModel<T> {\n  constructor(protected model: typeof Model) { }\n\n  public async create(obj: T) {\n    return this.model.create({ ...obj });\n  }\n\n  public async read(): Promise<T[]> {\n    return this.model.find();\n  }\n\n  public async readOne(_id: string) {\n    return this.model.findOne({ _id });\n  }\n\n  public async update(_id: string, obj: Partial<T>) {\n    return this.model.findByIdAndUpdate({ _id }, obj);\n  }\n\n  public async delete(_id: string) {\n    return this.model.findByIdAndDelete({ _id });\n  }\n}\n\nexport default MongoModel;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"825ba531149a813305bf85c29e715bfdbc986856","contentHash":"eb6a8000d2cbedc6d8800ac382ea34e60c3290226a780d880479fb5e6ba9116f"},"/home/roberio/projects/djtiq-tsnode-api/src/helpers/Bcrypt.ts":{"path":"/home/roberio/projects/djtiq-tsnode-api/src/helpers/Bcrypt.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":17},"end":{"line":6,"column":51}},"4":{"start":{"line":8,"column":15},"end":{"line":10,"column":5}},"5":{"start":{"line":9,"column":8},"end":{"line":9,"column":51}},"6":{"start":{"line":11,"column":18},"end":{"line":13,"column":5}},"7":{"start":{"line":12,"column":8},"end":{"line":12,"column":56}},"8":{"start":{"line":15,"column":0},"end":{"line":15,"column":31}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":8,"column":15},"end":{"line":8,"column":16}},"loc":{"start":{"line":8,"column":29},"end":{"line":10,"column":5}},"line":8},"2":{"name":"(anonymous_2)","decl":{"start":{"line":11,"column":18},"end":{"line":11,"column":19}},"loc":{"start":{"line":11,"column":38},"end":{"line":13,"column":5}},"line":11}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":0,"6":1,"7":1,"8":1},"f":{"0":1,"1":0,"2":1},"b":{"0":[1,1,1],"1":[0,1],"2":[1,1]},"inputSourceMap":{"version":3,"file":"/home/roberio/projects/djtiq-tsnode-api/src/helpers/Bcrypt.ts","sources":["/home/roberio/projects/djtiq-tsnode-api/src/helpers/Bcrypt.ts"],"names":[],"mappings":";;;;;AAAA,oDAA4B;AAE5B,MAAM,MAAM;IACH,QAAQ,GAAG,CAAC,QAAgB,EAAE,EAAE;QACrC,OAAO,gBAAM,CAAC,IAAI,CAAC,QAAQ,EAAE,EAAE,CAAC,CAAC;IACnC,CAAC,CAAC;IAEK,WAAW,GAAG,CAAC,QAAgB,EAAE,IAAY,EAAE,EAAE;QACtD,OAAO,gBAAM,CAAC,OAAO,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAC;IACxC,CAAC,CAAC;CACH;AAED,kBAAe,IAAI,MAAM,EAAE,CAAC","sourcesContent":["import bcrypt from 'bcrypt';\n\nclass Bcrypt {\n  public hashPass = (password: string) => {\n    return bcrypt.hash(password, 10);\n  };\n\n  public comparePass = (password: string, hash: string) => {\n    return bcrypt.compare(password, hash);\n  };\n}\n\nexport default new Bcrypt();\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"e161a5c70029e225dd846df17e7564436281168b","contentHash":"932f4973e3e7e013894bfda7a13c8a8bae084efadd594bc70e4e01f43e9d0f61"},"/home/roberio/projects/djtiq-tsnode-api/src/helpers/TokenGenerator.ts":{"path":"/home/roberio/projects/djtiq-tsnode-api/src/helpers/TokenGenerator.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":23},"end":{"line":3,"column":46}},"2":{"start":{"line":4,"column":15},"end":{"line":4,"column":45}},"3":{"start":{"line":6,"column":22},"end":{"line":9,"column":5}},"4":{"start":{"line":10,"column":18},"end":{"line":10,"column":70}},"5":{"start":{"line":11,"column":4},"end":{"line":11,"column":21}},"6":{"start":{"line":13,"column":0},"end":{"line":13,"column":33}}},"fnMap":{"0":{"name":"tokenGenerator","decl":{"start":{"line":5,"column":9},"end":{"line":5,"column":23}},"loc":{"start":{"line":5,"column":33},"end":{"line":12,"column":1}},"line":5}},"branchMap":{"0":{"loc":{"start":{"line":4,"column":15},"end":{"line":4,"column":45}},"type":"binary-expr","locations":[{"start":{"line":4,"column":15},"end":{"line":4,"column":33}},{"start":{"line":4,"column":37},"end":{"line":4,"column":45}}],"line":4}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1},"f":{"0":1},"b":{"0":[1,1]},"inputSourceMap":{"version":3,"file":"/home/roberio/projects/djtiq-tsnode-api/src/helpers/TokenGenerator.ts","sources":["/home/roberio/projects/djtiq-tsnode-api/src/helpers/TokenGenerator.ts"],"names":[],"mappings":";;AAAA,+CAAyD;AAEzD,MAAM,MAAM,GAAW,OAAO,CAAC,GAAG,CAAC,MAAM,IAAI,QAAQ,CAAC;AAMtD,SAAwB,cAAc,CAAC,OAAiB;IACtD,MAAM,SAAS,GAAgB;QAC7B,SAAS,EAAE,MAAM;QACjB,SAAS,EAAE,OAAO;KACnB,CAAC;IACF,MAAM,KAAK,GAAG,IAAA,mBAAI,EAAC,OAAO,EAAE,MAAM,EAAE,SAAS,CAAC,CAAC;IAC/C,OAAO,EAAE,KAAK,EAAE,CAAC;AACnB,CAAC;AAPD,iCAOC;AAAA,CAAC","sourcesContent":["import { sign, Secret, SignOptions } from 'jsonwebtoken';\n\nconst SECRET: Secret = process.env.SECRET || 'vnetod';\n\ninterface userInfo {\n  email: string\n}\n\nexport default function tokenGenerator(payload: userInfo) {\n  const jwtConfig: SignOptions = {\n    expiresIn: '365d',\n    algorithm: 'HS256',\n  };\n  const token = sign(payload, SECRET, jwtConfig);\n  return { token };\n};\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"7168c72c7b8bf3ab327b5819ca479d6b63720be9","contentHash":"bf79215c9f94c9592b21c8e1b38ef56bb59892a5bcdde05a44b4a23c19e8b27e"},"/home/roberio/projects/djtiq-tsnode-api/src/helpers/ErrorCatalog.ts":{"path":"/home/roberio/projects/djtiq-tsnode-api/src/helpers/ErrorCatalog.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":51}},"2":{"start":{"line":5,"column":0},"end":{"line":11,"column":65}},"3":{"start":{"line":6,"column":4},"end":{"line":6,"column":44}},"4":{"start":{"line":7,"column":4},"end":{"line":7,"column":48}},"5":{"start":{"line":8,"column":4},"end":{"line":8,"column":50}},"6":{"start":{"line":9,"column":4},"end":{"line":9,"column":50}},"7":{"start":{"line":10,"column":4},"end":{"line":10,"column":48}},"8":{"start":{"line":12,"column":0},"end":{"line":33,"column":2}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":5,"column":1},"end":{"line":5,"column":2}},"loc":{"start":{"line":5,"column":23},"end":{"line":11,"column":1}},"line":5}},"branchMap":{"0":{"loc":{"start":{"line":11,"column":16},"end":{"line":11,"column":63}},"type":"binary-expr","locations":[{"start":{"line":11,"column":16},"end":{"line":11,"column":34}},{"start":{"line":11,"column":39},"end":{"line":11,"column":62}}],"line":11}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1},"f":{"0":1},"b":{"0":[1,1]},"inputSourceMap":{"version":3,"file":"/home/roberio/projects/djtiq-tsnode-api/src/helpers/ErrorCatalog.ts","sources":["/home/roberio/projects/djtiq-tsnode-api/src/helpers/ErrorCatalog.ts"],"names":[],"mappings":";;;AAAA,IAAY,UAMX;AAND,WAAY,UAAU;IACpB,uCAAyB,CAAA;IACzB,2CAA6B,CAAA;IAC7B,6CAA+B,CAAA;IAC/B,6CAA+B,CAAA;IAC/B,2CAA6B,CAAA;AAC/B,CAAC,EANW,UAAU,GAAV,kBAAU,KAAV,kBAAU,QAMrB;AAWY,QAAA,YAAY,GAAY;IACnC,UAAU,EAAE;QACV,OAAO,EAAE,qBAAqB;QAC9B,IAAI,EAAE,GAAG;KACV;IACD,YAAY,EAAE;QACZ,OAAO,EAAE,gBAAgB;QACzB,IAAI,EAAE,GAAG;KACV;IACD,aAAa,EAAE;QACb,OAAO,EAAE,gBAAgB;QACzB,IAAI,EAAE,GAAG;KACV;IACD,aAAa,EAAE;QACb,OAAO,EAAE,iBAAiB;QAC1B,IAAI,EAAE,GAAG;KACV;IACD,YAAY,EAAE;QACZ,OAAO,EAAE,eAAe;QACxB,IAAI,EAAE,GAAG;KACV;CACF,CAAC","sourcesContent":["export enum ErrorTypes {\n  UserExists = 'UserExists',\n  UserNotFound = 'UserNotFound',\n  WrongPassword = 'WrongPassword',\n  TokenNotFound = 'TokenNotFound',\n  InvalidToken = 'InvalidToken',\n}\n\ntype ErrorResponseObject = {\n  message: string;\n  code: number;\n};\n\ntype catalog = {\n  [key in ErrorTypes]: ErrorResponseObject\n};\n\nexport const ErrorCatalog: catalog = {\n  UserExists: {\n    message: 'User Already Exists',\n    code: 409,\n  },\n  UserNotFound: {\n    message: 'User Not found',\n    code: 404,\n  },\n  WrongPassword: {\n    message: 'Wrong Password',\n    code: 401,\n  },\n  TokenNotFound: {\n    message: 'Token Not Found',\n    code: 404,\n  },\n  InvalidToken: {\n    message: 'Invalid Token',\n    code: 401,\n  },\n};\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"93e1921c4a1251b468bc2f2fe883ae7cff40f2b3","contentHash":"d9bcf259d8ad9e84e9528ed6d3fb9e06c68204e232b876e14ab35bd6fc30ebd7"},"/home/roberio/projects/djtiq-tsnode-api/src/routes/questionsRouter.ts":{"path":"/home/roberio/projects/djtiq-tsnode-api/src/routes/questionsRouter.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":18},"end":{"line":6,"column":36}},"4":{"start":{"line":7,"column":29},"end":{"line":7,"column":113}},"5":{"start":{"line":8,"column":14},"end":{"line":8,"column":37}},"6":{"start":{"line":9,"column":0},"end":{"line":9,"column":53}},"7":{"start":{"line":10,"column":0},"end":{"line":10,"column":61}},"8":{"start":{"line":11,"column":0},"end":{"line":11,"column":56}},"9":{"start":{"line":12,"column":0},"end":{"line":12,"column":55}},"10":{"start":{"line":13,"column":0},"end":{"line":13,"column":58}},"11":{"start":{"line":14,"column":0},"end":{"line":14,"column":24}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1},"f":{"0":1},"b":{"0":[1,1,1],"1":[1,0],"2":[1,1]},"inputSourceMap":{"version":3,"file":"/home/roberio/projects/djtiq-tsnode-api/src/routes/questionsRouter.ts","sources":["/home/roberio/projects/djtiq-tsnode-api/src/routes/questionsRouter.ts"],"names":[],"mappings":";;;;;AAAA,qCAAiC;AACjC,kHAA0F;AAE1F,MAAM,KAAK,GAAG,IAAA,gBAAM,GAAE,CAAC;AAGvB,KAAK,CAAC,IAAI,CAAC,GAAG,EAAE,4BAAkB,CAAC,MAAM,CAAC,CAAC;AAC3C,KAAK,CAAC,GAAG,CAAC,GAAG,EAAE,4BAAkB,CAAC,eAAe,CAAC,CAAC;AACnD,KAAK,CAAC,GAAG,CAAC,MAAM,EAAE,4BAAkB,CAAC,OAAO,CAAC,CAAC;AAC9C,KAAK,CAAC,GAAG,CAAC,MAAM,EAAE,4BAAkB,CAAC,MAAM,CAAC,CAAC;AAC7C,KAAK,CAAC,MAAM,CAAC,MAAM,EAAE,4BAAkB,CAAC,MAAM,CAAC,CAAC;AAEhD,kBAAe,KAAK,CAAC","sourcesContent":["import { Router } from 'express';\nimport questionController from '../domain/cases/questions/controllers/questionController';\n\nconst route = Router();\n\n\nroute.post('/', questionController.create);\nroute.get('/', questionController.filterQuestions);\nroute.get('/:id', questionController.readOne);\nroute.put('/:id', questionController.update);\nroute.delete('/:id', questionController.delete);\n\nexport default route;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"b194897bcd9d93e32780f26215ae646b1bca4dbe","contentHash":"4fc22f183ea5fa9c3bb9ef058fd00b5ce469687b3c64bc723747161dc3ac960e"},"/home/roberio/projects/djtiq-tsnode-api/src/domain/cases/questions/controllers/questionController.ts":{"path":"/home/roberio/projects/djtiq-tsnode-api/src/domain/cases/questions/controllers/questionController.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":26},"end":{"line":6,"column":81}},"4":{"start":{"line":10,"column":8},"end":{"line":10,"column":31}},"5":{"start":{"line":12,"column":13},"end":{"line":15,"column":5}},"6":{"start":{"line":13,"column":23},"end":{"line":13,"column":58}},"7":{"start":{"line":14,"column":8},"end":{"line":14,"column":44}},"8":{"start":{"line":16,"column":22},"end":{"line":21,"column":5}},"9":{"start":{"line":17,"column":48},"end":{"line":17,"column":57}},"10":{"start":{"line":18,"column":23},"end":{"line":19,"column":57}},"11":{"start":{"line":20,"column":8},"end":{"line":20,"column":44}},"12":{"start":{"line":22,"column":14},"end":{"line":26,"column":5}},"13":{"start":{"line":23,"column":23},"end":{"line":23,"column":33}},"14":{"start":{"line":24,"column":23},"end":{"line":24,"column":53}},"15":{"start":{"line":25,"column":8},"end":{"line":25,"column":44}},"16":{"start":{"line":27,"column":13},"end":{"line":31,"column":5}},"17":{"start":{"line":28,"column":23},"end":{"line":28,"column":33}},"18":{"start":{"line":29,"column":23},"end":{"line":29,"column":62}},"19":{"start":{"line":30,"column":8},"end":{"line":30,"column":44}},"20":{"start":{"line":32,"column":13},"end":{"line":37,"column":5}},"21":{"start":{"line":33,"column":23},"end":{"line":33,"column":33}},"22":{"start":{"line":34,"column":8},"end":{"line":34,"column":39}},"23":{"start":{"line":35,"column":8},"end":{"line":35,"column":38}},"24":{"start":{"line":36,"column":8},"end":{"line":36,"column":37}},"25":{"start":{"line":39,"column":0},"end":{"line":39,"column":43}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":9,"column":4},"end":{"line":9,"column":5}},"loc":{"start":{"line":9,"column":53},"end":{"line":11,"column":5}},"line":9},"2":{"name":"(anonymous_2)","decl":{"start":{"line":12,"column":13},"end":{"line":12,"column":14}},"loc":{"start":{"line":12,"column":33},"end":{"line":15,"column":5}},"line":12},"3":{"name":"(anonymous_3)","decl":{"start":{"line":16,"column":22},"end":{"line":16,"column":23}},"loc":{"start":{"line":16,"column":42},"end":{"line":21,"column":5}},"line":16},"4":{"name":"(anonymous_4)","decl":{"start":{"line":22,"column":14},"end":{"line":22,"column":15}},"loc":{"start":{"line":22,"column":34},"end":{"line":26,"column":5}},"line":22},"5":{"name":"(anonymous_5)","decl":{"start":{"line":27,"column":13},"end":{"line":27,"column":14}},"loc":{"start":{"line":27,"column":33},"end":{"line":31,"column":5}},"line":27},"6":{"name":"(anonymous_6)","decl":{"start":{"line":32,"column":13},"end":{"line":32,"column":14}},"loc":{"start":{"line":32,"column":33},"end":{"line":37,"column":5}},"line":32}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":9,"column":16},"end":{"line":9,"column":51}},"type":"default-arg","locations":[{"start":{"line":9,"column":26},"end":{"line":9,"column":51}}],"line":9}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":0,"7":0,"8":1,"9":0,"10":0,"11":0,"12":1,"13":0,"14":0,"15":0,"16":1,"17":0,"18":0,"19":0,"20":1,"21":0,"22":0,"23":0,"24":0,"25":1},"f":{"0":1,"1":1,"2":0,"3":0,"4":0,"5":0,"6":0},"b":{"0":[1,1,1],"1":[1,0],"2":[1,1],"3":[1]},"inputSourceMap":{"version":3,"file":"/home/roberio/projects/djtiq-tsnode-api/src/domain/cases/questions/controllers/questionController.ts","sources":["/home/roberio/projects/djtiq-tsnode-api/src/domain/cases/questions/controllers/questionController.ts"],"names":[],"mappings":";;;;;AAEA,kFAA0D;AAE1D,MAAM,kBAAkB;IACF;IAApB,YAAoB,UAAU,yBAAe;QAAzB,YAAO,GAAP,OAAO,CAAkB;IAAI,CAAC;IAE3C,MAAM,GAAG,KAAK,EAAE,GAAY,EAAE,GAAa,EAAE,EAAE;QACpD,MAAM,MAAM,GAAG,MAAM,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;QACnD,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;IACtC,CAAC,CAAC;IAEK,eAAe,GAAG,KAAK,EAAE,GAAY,EAAE,GAAa,EAAE,EAAE;QAC7D,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,MAAM,EAAE,MAAM,EAAE,GAAG,GAAG,CAAC,KAA6B,CAAC;QAC1E,MAAM,MAAM,GAAG,MAAM,IAAI,CAAC,OAAO;aAC9B,eAAe,CAAC,IAAI,EAAE,KAAK,EAAE,MAAM,EAAE,MAAM,CAAC,CAAC;QAChD,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;IACtC,CAAC,CAAC;IAEK,OAAO,GAAG,KAAK,EAAE,GAAY,EAAE,GAAa,EAAE,EAAE;QACrD,MAAM,EAAE,EAAE,EAAE,GAAG,GAAG,CAAC,MAAM,CAAC;QAC1B,MAAM,MAAM,GAAG,MAAM,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC;QAC9C,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;IACtC,CAAC,CAAC;IAEK,MAAM,GAAG,KAAK,EAAE,GAAY,EAAE,GAAa,EAAE,EAAE;QACpD,MAAM,EAAE,EAAE,EAAE,GAAG,GAAG,CAAC,MAAM,CAAC;QAC1B,MAAM,MAAM,GAAG,MAAM,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,EAAE,EAAE,GAAG,CAAC,IAAI,CAAC,CAAC;QACvD,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;IACtC,CAAC,CAAC;IAEK,MAAM,GAAG,KAAK,EAAE,GAAY,EAAE,GAAa,EAAE,EAAE;QACpD,MAAM,EAAE,EAAE,EAAE,GAAG,GAAG,CAAC,MAAM,CAAC;QAC1B,MAAM,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC;QAC/B,MAAM,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC;QAC9B,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,GAAG,EAAE,CAAC;IAC/B,CAAC,CAAC;CACH;AAED,kBAAe,IAAI,kBAAkB,EAAE,CAAC","sourcesContent":["import { Request, Response } from 'express';\nimport { IReqQuery } from '../interfaces/IReqQuery';\nimport questionService from '../services/questionService';\n\nclass QuestionController {\n  constructor(private service = questionService) { }\n\n  public create = async (req: Request, res: Response) => {\n    const result = await this.service.create(req.body);\n    return res.status(201).json(result);\n  };\n\n  public filterQuestions = async (req: Request, res: Response) => {\n    const { page, limit, status, userId } = req.query as unknown as IReqQuery;\n    const result = await this.service\n      .filterQuestions(page, limit, status, userId);\n    return res.status(200).json(result);\n  };\n\n  public readOne = async (req: Request, res: Response) => {\n    const { id } = req.params;\n    const result = await this.service.readOne(id);\n    return res.status(200).json(result);\n  };\n\n  public update = async (req: Request, res: Response) => {\n    const { id } = req.params;\n    const result = await this.service.update(id, req.body);\n    return res.status(200).json(result);\n  };\n\n  public delete = async (req: Request, res: Response) => {\n    const { id } = req.params;\n    await this.service.readOne(id);\n    await this.service.delete(id);\n    return res.status(204).end();\n  };\n}\n\nexport default new QuestionController();\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"a6483e0be7d55bc55086d8f4855ad5ae9c22d7f7","contentHash":"733053e372fcf69bb35bbff037589f3ae3df58d07939767e1f20592a71ddf67c"},"/home/roberio/projects/djtiq-tsnode-api/src/domain/cases/questions/services/questionService.ts":{"path":"/home/roberio/projects/djtiq-tsnode-api/src/domain/cases/questions/services/questionService.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":20},"end":{"line":6,"column":54}},"4":{"start":{"line":7,"column":19},"end":{"line":7,"column":83}},"5":{"start":{"line":11,"column":8},"end":{"line":11,"column":27}},"6":{"start":{"line":14,"column":23},"end":{"line":14,"column":64}},"7":{"start":{"line":15,"column":8},"end":{"line":16,"column":31}},"8":{"start":{"line":16,"column":12},"end":{"line":16,"column":31}},"9":{"start":{"line":17,"column":8},"end":{"line":17,"column":44}},"10":{"start":{"line":20,"column":8},"end":{"line":20,"column":71}},"11":{"start":{"line":23,"column":8},"end":{"line":23,"column":38}},"12":{"start":{"line":26,"column":8},"end":{"line":26,"column":46}},"13":{"start":{"line":29,"column":8},"end":{"line":29,"column":37}},"14":{"start":{"line":32,"column":0},"end":{"line":32,"column":40}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":10,"column":4},"end":{"line":10,"column":5}},"loc":{"start":{"line":10,"column":44},"end":{"line":12,"column":5}},"line":10},"2":{"name":"(anonymous_2)","decl":{"start":{"line":13,"column":4},"end":{"line":13,"column":5}},"loc":{"start":{"line":13,"column":22},"end":{"line":18,"column":5}},"line":13},"3":{"name":"(anonymous_3)","decl":{"start":{"line":19,"column":4},"end":{"line":19,"column":5}},"loc":{"start":{"line":19,"column":49},"end":{"line":21,"column":5}},"line":19},"4":{"name":"(anonymous_4)","decl":{"start":{"line":22,"column":4},"end":{"line":22,"column":5}},"loc":{"start":{"line":22,"column":16},"end":{"line":24,"column":5}},"line":22},"5":{"name":"(anonymous_5)","decl":{"start":{"line":25,"column":4},"end":{"line":25,"column":5}},"loc":{"start":{"line":25,"column":24},"end":{"line":27,"column":5}},"line":25},"6":{"name":"(anonymous_6)","decl":{"start":{"line":28,"column":4},"end":{"line":28,"column":5}},"loc":{"start":{"line":28,"column":15},"end":{"line":30,"column":5}},"line":28}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":10,"column":16},"end":{"line":10,"column":42}},"type":"default-arg","locations":[{"start":{"line":10,"column":24},"end":{"line":10,"column":42}}],"line":10},"4":{"loc":{"start":{"line":15,"column":8},"end":{"line":16,"column":31}},"type":"if","locations":[{"start":{"line":15,"column":8},"end":{"line":16,"column":31}},{"start":{"line":15,"column":8},"end":{"line":16,"column":31}}],"line":15}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":1},"f":{"0":1,"1":1,"2":0,"3":0,"4":0,"5":0,"6":0},"b":{"0":[1,1,1],"1":[1,0],"2":[1,1],"3":[1],"4":[0,0]},"inputSourceMap":{"version":3,"file":"/home/roberio/projects/djtiq-tsnode-api/src/domain/cases/questions/services/questionService.ts","sources":["/home/roberio/projects/djtiq-tsnode-api/src/domain/cases/questions/services/questionService.ts"],"names":[],"mappings":";;;;;AAAA,uDAAoE;AACpE,oFAAiE;AAGjE,MAAM,eAAe;IACC;IAApB,YAAoB,QAAQ,kBAAa;QAArB,UAAK,GAAL,KAAK,CAAgB;IAAI,CAAC;IAEvC,KAAK,CAAC,MAAM,CAAC,GAAc;QAChC,MAAM,MAAM,GAAG,0BAAc,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC;QAE7C,IAAI,CAAC,MAAM,CAAC,OAAO;YAAE,MAAM,MAAM,CAAC,KAAK,CAAC;QAExC,OAAO,MAAM,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;IACtC,CAAC;IAEM,eAAe,CACpB,IAAY,EACZ,KAAa,EACb,MAAc,EACd,MAAc;QAEd,OAAO,IAAI,CAAC,KAAK,CAAC,eAAe,CAAC,IAAI,EAAE,KAAK,EAAE,MAAM,EAAE,MAAM,CAAC,CAAC;IACjE,CAAC;IAEM,OAAO,CAAC,EAAU;QACvB,OAAO,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC;IAChC,CAAC;IAEM,MAAM,CAAC,EAAU,EAAE,OAAkB;QAC1C,OAAO,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,EAAE,EAAE,OAAO,CAAC,CAAC;IACxC,CAAC;IAEM,MAAM,CAAC,EAAU;QACtB,OAAO,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC;IAC/B,CAAC;CACF;AAED,kBAAe,IAAI,eAAe,EAAE,CAAC","sourcesContent":["import { IQuestion, QuestionSchema } from '../interfaces/IQuestion';\nimport QuestionModel from '../../../../database/models/Question';\nimport { IQuestionCount, IQuestionInfo } from '../interfaces/IQuestionInfo';\n\nclass QuestionService {\n  constructor(private model = QuestionModel) { }\n\n  public async create(obj: IQuestion): Promise<IQuestionInfo> {\n    const parsed = QuestionSchema.safeParse(obj);\n\n    if (!parsed.success) throw parsed.error;\n\n    return await this.model.create(obj);\n  }\n\n  public filterQuestions(\n    page: number,\n    limit: number,\n    status: string,\n    userId: string,\n  ): Promise<IQuestionCount[]> {\n    return this.model.filterQuestions(page, limit, status, userId);\n  }\n\n  public readOne(id: string): Promise<IQuestionInfo> {\n    return this.model.readOne(id);\n  }\n\n  public update(id: string, payload: IQuestion): Promise<IQuestionInfo> {\n    return this.model.update(id, payload);\n  }\n\n  public delete(id: string): Promise<void> {\n    return this.model.delete(id);\n  }\n}\n\nexport default new QuestionService();\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"db78297babb1c4b7ff843462ed90c29058d52ddf","contentHash":"f7f35d17ab27a982a0236f720e32eaf376ae213424416474c3f75d12c03ec432"},"/home/roberio/projects/djtiq-tsnode-api/src/domain/cases/questions/interfaces/IQuestion.ts":{"path":"/home/roberio/projects/djtiq-tsnode-api/src/domain/cases/questions/interfaces/IQuestion.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":32}},"2":{"start":{"line":4,"column":14},"end":{"line":4,"column":28}},"3":{"start":{"line":5,"column":0},"end":{"line":11,"column":12}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1},"f":{},"b":{},"inputSourceMap":{"version":3,"file":"/home/roberio/projects/djtiq-tsnode-api/src/domain/cases/questions/interfaces/IQuestion.ts","sources":["/home/roberio/projects/djtiq-tsnode-api/src/domain/cases/questions/interfaces/IQuestion.ts"],"names":[],"mappings":";;;AAAA,6BAAwB;AAEX,QAAA,cAAc,GAAG,OAAC,CAAC,MAAM,CAAC;IACrC,MAAM,EAAE,OAAC,CAAC,MAAM,EAAE;IAClB,MAAM,EAAE,OAAC,CAAC,MAAM,EAAE;IAClB,QAAQ,EAAE,OAAC,CAAC,MAAM,EAAE;IACpB,MAAM,EAAE,OAAC,CAAC,MAAM,EAAE,CAAC,GAAG,EAAE;IACxB,MAAM,EAAE,OAAC,CAAC,MAAM,EAAE;CACnB,CAAC,CAAC,MAAM,EAAE,CAAC","sourcesContent":["import { z } from 'zod';\n\nexport const QuestionSchema = z.object({\n  userId: z.string(),\n  author: z.string(),\n  question: z.string(),\n  answer: z.string().url(),\n  status: z.string(),\n}).strict();\n\nexport type IQuestion = z.infer<typeof QuestionSchema>;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"e9d7b838914226437d6f1eceebd92f940b5c146a","contentHash":"3eebf1ac494f8d2d6414ceb3b23e6dfeded73cd0ecac577983542a5e8f7f591a"},"/home/roberio/projects/djtiq-tsnode-api/src/database/models/Question.ts":{"path":"/home/roberio/projects/djtiq-tsnode-api/src/database/models/Question.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":19},"end":{"line":6,"column":38}},"4":{"start":{"line":7,"column":21},"end":{"line":7,"column":61}},"5":{"start":{"line":8,"column":23},"end":{"line":17,"column":2}},"6":{"start":{"line":20,"column":8},"end":{"line":20,"column":21}},"7":{"start":{"line":23,"column":22},"end":{"line":23,"column":62}},"8":{"start":{"line":24,"column":26},"end":{"line":35,"column":10}},"9":{"start":{"line":36,"column":8},"end":{"line":36,"column":28}},"10":{"start":{"line":39,"column":0},"end":{"line":39,"column":33}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":19,"column":4},"end":{"line":19,"column":5}},"loc":{"start":{"line":19,"column":75},"end":{"line":21,"column":5}},"line":19},"2":{"name":"(anonymous_2)","decl":{"start":{"line":22,"column":4},"end":{"line":22,"column":5}},"loc":{"start":{"line":22,"column":55},"end":{"line":37,"column":5}},"line":22}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":19,"column":16},"end":{"line":19,"column":73}},"type":"default-arg","locations":[{"start":{"line":19,"column":24},"end":{"line":19,"column":73}}],"line":19},"4":{"loc":{"start":{"line":23,"column":22},"end":{"line":23,"column":62}},"type":"cond-expr","locations":[{"start":{"line":23,"column":31},"end":{"line":23,"column":49}},{"start":{"line":23,"column":52},"end":{"line":23,"column":62}}],"line":23}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":0,"8":0,"9":0,"10":1},"f":{"0":1,"1":1,"2":0},"b":{"0":[1,1,1],"1":[1,0],"2":[1,1],"3":[1],"4":[0,0]},"inputSourceMap":{"version":3,"file":"/home/roberio/projects/djtiq-tsnode-api/src/database/models/Question.ts","sources":["/home/roberio/projects/djtiq-tsnode-api/src/database/models/Question.ts"],"names":[],"mappings":";;;;;AAAA,uCAAgE;AAGhE,8DAAsC;AAEtC,MAAM,cAAc,GAAG,IAAI,iBAAM,CAAY;IAC3C,MAAM,EAAE,MAAM;IACd,MAAM,EAAE,MAAM;IACd,QAAQ,EAAE,MAAM;IAChB,MAAM,EAAE,MAAM;IACd,MAAM,EAAE,MAAM;CACf,EAAE;IACD,UAAU,EAAE,IAAI;IAChB,UAAU,EAAE,KAAK;CAClB,CAAC,CAAC;AAEH,MAAM,QAAS,SAAQ,oBAAqB;IAC1C,YAAY,KAAK,GAAG,IAAA,gBAAmB,EAAC,UAAU,EAAE,cAAc,CAAC;QACjE,KAAK,CAAC,KAAK,CAAC,CAAC;IACf,CAAC;IAEM,KAAK,CAAC,eAAe,CAC1B,IAAY,EACZ,KAAa,EACb,MAAc,EACd,MAAc;QAEd,MAAM,KAAK,GAAG,MAAM,CAAC,CAAC,CAAC,EAAE,MAAM,EAAE,MAAM,EAAE,CAAC,CAAC,CAAC,EAAE,MAAM,EAAE,CAAC;QACvD,MAAM,SAAS,GAAG,MAAM,IAAI,CAAC,KAAK,CAAC,SAAS,EAAE;aAC3C,KAAK,CAAC,EAAE,GAAG,KAAK,EAAE,CAAC;aACnB,KAAK,CAAC;YACL,SAAS,EAAE,CAAC;oBACV,KAAK,EAAE,CAAC,IAAI,GAAG,CAAC,CAAC,GAAG,KAAK;iBAC1B,EAAE;oBACD,MAAM,EAAE,KAAK,GAAG,CAAC;iBAClB,EAAE;oBACD,KAAK,EAAE,EAAE,SAAS,EAAE,CAAC,CAAC,EAAE;iBACzB,CAAC;YACF,KAAK,EAAE,CAAC,EAAE,MAAM,EAAE,OAAO,EAAE,CAAC;SAC7B,CAAC,CAAC;QACL,OAAO,SAAS,CAAC,CAAC,CAAC,CAAC;IACtB,CAAC;CACF;AAED,kBAAe,IAAI,QAAQ,EAAE,CAAC","sourcesContent":["import { model as mongooseCreateModel, Schema } from 'mongoose';\nimport { IQuestion } from '../../domain/cases/questions/interfaces/IQuestion';\nimport { IQuestionCount } from '../../domain/cases/questions/interfaces/IQuestionInfo';\nimport MongoModel from './MongoModel';\n\nconst QuestionSchema = new Schema<IQuestion>({\n  userId: String,\n  author: String,\n  question: String,\n  answer: String,\n  status: String,\n}, {\n  timestamps: true,\n  versionKey: false,\n});\n\nclass Question extends MongoModel<IQuestion> {\n  constructor(model = mongooseCreateModel('Question', QuestionSchema)) {\n    super(model);\n  }\n\n  public async filterQuestions(\n    page: number,\n    limit: number,\n    status: string,\n    userId: string,\n  ): Promise<IQuestionCount[]> {\n    const query = userId ? { userId, status } : { status };\n    const questions = await this.model.aggregate()\n      .match({ ...query })\n      .facet({\n        questions: [{\n          $skip: (page - 1) * limit,\n        }, {\n          $limit: limit * 1,\n        }, {\n          $sort: { createdAt: -1 },\n        }],\n        total: [{ $count: 'count' }],\n      });\n    return questions[0];\n  }\n}\n\nexport default new Question();\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"2f8c3dd63621131da326da3a910b42e67e178fd7","contentHash":"b74a7f38af3d42b3abd32cc1c215eee64d281b9577095d3e91844a8494aea3b7"},"/home/roberio/projects/djtiq-tsnode-api/src/database/models/connection.ts":{"path":"/home/roberio/projects/djtiq-tsnode-api/src/database/models/connection.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":19},"end":{"line":6,"column":55}},"4":{"start":{"line":7,"column":0},"end":{"line":7,"column":25}},"5":{"start":{"line":8,"column":21},"end":{"line":8,"column":55}},"6":{"start":{"line":9,"column":26},"end":{"line":10,"column":68}},"7":{"start":{"line":10,"column":24},"end":{"line":10,"column":68}},"8":{"start":{"line":11,"column":0},"end":{"line":11,"column":36}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":9,"column":26},"end":{"line":9,"column":27}},"loc":{"start":{"line":10,"column":24},"end":{"line":10,"column":68}},"line":10}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":9,"column":27},"end":{"line":10,"column":19}},"type":"default-arg","locations":[{"start":{"line":9,"column":46},"end":{"line":10,"column":19}}],"line":9},"4":{"loc":{"start":{"line":9,"column":46},"end":{"line":10,"column":19}},"type":"binary-expr","locations":[{"start":{"line":9,"column":46},"end":{"line":9,"column":67}},{"start":{"line":10,"column":7},"end":{"line":10,"column":19}}],"line":9}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1},"f":{"0":1,"1":1},"b":{"0":[1,1,1],"1":[0,1],"2":[1,1],"3":[1],"4":[1,1]},"inputSourceMap":{"version":3,"file":"/home/roberio/projects/djtiq-tsnode-api/src/database/models/connection.ts","sources":["/home/roberio/projects/djtiq-tsnode-api/src/database/models/connection.ts"],"names":[],"mappings":";;;;;AAAA,wDAAgC;AAChC,yBAAuB;AAEvB,MAAM,YAAY,GAAG,kCAAkC,CAAC;AAExD,MAAM,iBAAiB,GAAG,CACxB,gBAAgB,GAAG,OAAO,CAAC,GAAG,CAAC,SAAS;OACnC,YAAY,EACjB,EAAE,CAAC,kBAAQ,CAAC,OAAO,CAAC,gBAAgB,CAAC,CAAC;AAExC,kBAAe,iBAAiB,CAAC","sourcesContent":["import mongoose from 'mongoose';\nimport 'dotenv/config';\n\nconst MONGO_DB_URL = 'mongodb://localhost:27017/tsnode';\n\nconst connectToDatabase = (\n  mongoDatabaseURI = process.env.MONGO_URI\n    || MONGO_DB_URL,\n) => mongoose.connect(mongoDatabaseURI);\n\nexport default connectToDatabase;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"4435ff64e0af71206399a0a2e6e60e94897917d2","contentHash":"62c1e58e5962f6c08d6a855e7b2e9fbab158bfa880f70d9c14eb81535cb03448"},"/home/roberio/projects/djtiq-tsnode-api/src/middlewares/ErrorHandler.ts":{"path":"/home/roberio/projects/djtiq-tsnode-api/src/middlewares/ErrorHandler.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":23},"end":{"line":3,"column":57}},"2":{"start":{"line":4,"column":14},"end":{"line":4,"column":28}},"3":{"start":{"line":5,"column":21},"end":{"line":17,"column":1}},"4":{"start":{"line":6,"column":4},"end":{"line":9,"column":5}},"5":{"start":{"line":7,"column":25},"end":{"line":7,"column":57}},"6":{"start":{"line":7,"column":47},"end":{"line":7,"column":56}},"7":{"start":{"line":8,"column":8},"end":{"line":8,"column":59}},"8":{"start":{"line":10,"column":31},"end":{"line":10,"column":42}},"9":{"start":{"line":11,"column":24},"end":{"line":11,"column":71}},"10":{"start":{"line":12,"column":4},"end":{"line":15,"column":5}},"11":{"start":{"line":13,"column":34},"end":{"line":13,"column":45}},"12":{"start":{"line":14,"column":8},"end":{"line":14,"column":50}},"13":{"start":{"line":16,"column":4},"end":{"line":16,"column":63}},"14":{"start":{"line":18,"column":0},"end":{"line":18,"column":31}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":5,"column":21},"end":{"line":5,"column":22}},"loc":{"start":{"line":5,"column":48},"end":{"line":17,"column":1}},"line":5},"1":{"name":"(anonymous_1)","decl":{"start":{"line":7,"column":40},"end":{"line":7,"column":41}},"loc":{"start":{"line":7,"column":47},"end":{"line":7,"column":56}},"line":7}},"branchMap":{"0":{"loc":{"start":{"line":6,"column":4},"end":{"line":9,"column":5}},"type":"if","locations":[{"start":{"line":6,"column":4},"end":{"line":9,"column":5}},{"start":{"line":6,"column":4},"end":{"line":9,"column":5}}],"line":6},"1":{"loc":{"start":{"line":12,"column":4},"end":{"line":15,"column":5}},"type":"if","locations":[{"start":{"line":12,"column":4},"end":{"line":15,"column":5}},{"start":{"line":12,"column":4},"end":{"line":15,"column":5}}],"line":12}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":0,"6":0,"7":0,"8":1,"9":1,"10":1,"11":1,"12":1,"13":0,"14":1},"f":{"0":1,"1":0},"b":{"0":[0,1],"1":[1,0]},"inputSourceMap":{"version":3,"file":"/home/roberio/projects/djtiq-tsnode-api/src/middlewares/ErrorHandler.ts","sources":["/home/roberio/projects/djtiq-tsnode-api/src/middlewares/ErrorHandler.ts"],"names":[],"mappings":";;AACA,0DAAmE;AACnE,6BAA+B;AAE/B,MAAM,YAAY,GAAwB,CACxC,GAAqB,EACrB,IAAa,EACb,GAAa,EACb,KAAmB,EACnB,EAAE;IACF,IAAI,GAAG,YAAY,cAAQ,EAAE;QAC3B,MAAM,QAAQ,GAAG,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC;QAClD,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,EAAE,OAAO,EAAE,QAAQ,EAAE,CAAC,CAAC;KACpD;IACD,MAAM,kBAAkB,GAAG,GAAG,CAAC,OAAkC,CAAC;IAClE,MAAM,WAAW,GAAG,2BAAY,CAAC,kBAAkB,CAAC,CAAC;IAErD,IAAI,WAAW,EAAE;QACf,MAAM,EAAE,IAAI,EAAE,OAAO,EAAE,GAAG,WAAW,CAAC;QACtC,OAAO,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,EAAE,OAAO,EAAE,CAAC,CAAC;KAC3C;IAED,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,EAAE,OAAO,EAAE,gBAAgB,EAAE,CAAC,CAAC;AAC7D,CAAC,CAAC;AAEF,kBAAe,YAAY,CAAC","sourcesContent":["import { ErrorRequestHandler, NextFunction, Request, Response } from 'express';\nimport { ErrorCatalog, ErrorTypes } from '../helpers/ErrorCatalog';\nimport { ZodError } from 'zod';\n\nconst ErrorHandler: ErrorRequestHandler = (\n  err: Error | ZodError,\n  _req: Request,\n  res: Response,\n  _next: NextFunction,\n) => {\n  if (err instanceof ZodError) {\n    const response = err.issues.map((z) => z.message);\n    return res.status(400).json({ message: response });\n  }\n  const messageAsErrorType = err.message as keyof typeof ErrorTypes;\n  const mappedError = ErrorCatalog[messageAsErrorType];\n\n  if (mappedError) {\n    const { code, message } = mappedError;\n    return res.status(code).json({ message });\n  }\n\n  return res.status(500).json({ message: 'Internal Error' });\n};\n\nexport default ErrorHandler;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"0ab341b10fdda2b0b667ebac910a03a3a1534663","contentHash":"4d3d53e0bf2b54d707231f720ac41933ec4756013a537f5d21f95fff9aa21be9"}}